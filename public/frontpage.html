<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontpage</title>
    <!-- 3. link to External stylesheets-->
    <!-- <link rel="stylesheet" href="./frontpage.css"> -->
    <!--2. CSS in style tag-->
    <style>
        #frontpage-header {
            color: red;
        }
        .headers { 
            background-color: grey;
        }
    </style>
</head>
<body>
    <h1 id="frontpage-header" class="headers">Frontpage</h1>
    <p>Welcome to this simple site showing what happened on this very day</p>


    <h2 class="headers" style="color: blue">On This Day in History</h2>
    <div id="historyEvents"></div>

    <script>
       
       fetch('/history')
    .then(response => response.json())
    .then(data => {
        console.log(data);
        const historyEventsElement = document.getElementById('historyEvents');
        
        historyEventsElement.textContent = '';
        
        if (data && data.data.Events && data.data.Events.length > 0) {
            const ulElement = document.createElement('ul');
            
            data.data.Events.forEach(event => {
                const liElement = document.createElement('li');
                
                const strongElement = document.createElement('strong');
                strongElement.textContent = event.year + ': ';
                
                liElement.appendChild(strongElement);
                
                liElement.appendChild(document.createTextNode(event.text));
                
                ulElement.appendChild(liElement);
            });
            
            historyEventsElement.appendChild(ulElement);
        } else {
            historyEventsElement.textContent = 'No historical events found for today.';
        }
    })
    .catch(error => {
        console.error('Error:', error);
        document.getElementById('historyEvents').textContent = 'Error loading historical events.';
    });
    </script>
</body>
</html>
